generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type entityMetadata {
  name        String
  description String
  discord     String?
  logo        String?
  telegram    String?
  website     String?
  x           String?
}

type avsOperator {
  address  String
  isActive Boolean
}

model avs {
  id       String         @id @default(auto()) @map("_id") @db.ObjectId
  address  String         @unique
  metadata entityMetadata
  tags     String[]

  isVisible  Boolean       @default(false)
  isVerified Boolean       @default(false)
  operators  avsOperator[]

  // isOperating Boolean?
  // tvl         BigInt?
  // status      String?
  // service_manager_contract String? @map("service-manager-contract") // Duplicate

  @@index([tags], map: "tags_1")
}

model Operator {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  address String @unique

  metadata entityMetadata
}

model strategies {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}
